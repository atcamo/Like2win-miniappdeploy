$ next dev
   ▲ Next.js 15.4.4
   - Local:        http://localhost:3000
   - Network:      http://10.163.143.147:3000
   - Environments: .env.local, .env

 ✓ Starting...
 ✓ Ready in 13.5s
 ✓ Compiled /middleware in 4s
 ✓ Compiled (108 modules)
 ○ Compiling /api/admin/stats ...
 ✓ Compiled /api/admin/stats in 3.3s (289 modules)
🔗 Redis connected for daily raffle service
📊 Loading admin stats - FORCED REDIS DAILY VERSION...
⚡ Using Redis daily raffle service for admin stats (FORCED)...
🚫 Local data files explicitly ignored in this version
❌ Redis getTotalStats error: TypeError: fetch failed
    at async DailyRaffleRedisService.getTotalStats (lib\services\dailyRaffleRedisService.ts:176:20)
    at async GET (app\api\admin\stats\route.ts:17:18)
  174 |     try {
  175 |       const statsKey = this.getStatsKey();
> 176 |       const stats = await this.redis.get(statsKey) as DailyRaffleStats | null;
      |                    ^
  177 |       return {
  178 |         totalTickets: stats?.totalTickets || 0,
  179 |         totalParticipants: stats?.totalParticipants || 0 {
  [cause]: [Error: getaddrinfo ENOTFOUND us1-grown-mantis-40417.upstash.io] {
    errno: -3008,
    code: 'ENOTFOUND',
    syscall: 'getaddrinfo',
    hostname: 'us1-grown-mantis-40417.upstash.io'
  }
}
❌ Redis getLeaderboard error: TypeError: fetch failed
    at async DailyRaffleRedisService.getLeaderboard (lib\services\dailyRaffleRedisService.ts:197:23)
    at async GET (app\api\admin\stats\route.ts:18:24)
  195 |       
  196 |       // Get all user keys for today
> 197 |       const userKeys = await this.redis.keys(pattern);
      |                       ^
  198 |       
  199 |       if (userKeys.length === 0) {
  200 |         return []; {
  [cause]: [Error: getaddrinfo ENOTFOUND us1-grown-mantis-40417.upstash.io] {
    errno: -3008,
    code: 'ENOTFOUND',
    syscall: 'getaddrinfo',
    hostname: 'us1-grown-mantis-40417.upstash.io'
  }
}
❌ Redis getTotalStats error: TypeError: fetch failed
    at async DailyRaffleRedisService.getTotalStats (lib\services\dailyRaffleRedisService.ts:176:20)
    at async DailyRaffleRedisService.getDebugInfo (lib\services\dailyRaffleRedisService.ts:316:18)
    at async GET (app\api\admin\stats\route.ts:43:22)
  174 |     try {
  175 |       const statsKey = this.getStatsKey();
> 176 |       const stats = await this.redis.get(statsKey) as DailyRaffleStats | null;
      |                    ^
  177 |       return {
  178 |         totalTickets: stats?.totalTickets || 0,
  179 |         totalParticipants: stats?.totalParticipants || 0 {
  [cause]: [Error: getaddrinfo ENOTFOUND us1-grown-mantis-40417.upstash.io] {
    errno: -3008,
    code: 'ENOTFOUND',
    syscall: 'getaddrinfo',
    hostname: 'us1-grown-mantis-40417.upstash.io'
  }
}
❌ Redis getLeaderboard error: TypeError: fetch failed
    at async DailyRaffleRedisService.getLeaderboard (lib\services\dailyRaffleRedisService.ts:197:23)
    at async DailyRaffleRedisService.getDebugInfo (lib\services\dailyRaffleRedisService.ts:317:24)
    at async GET (app\api\admin\stats\route.ts:43:22)
  195 |       
  196 |       // Get all user keys for today
> 197 |       const userKeys = await this.redis.keys(pattern);
      |                       ^
  198 |       
  199 |       if (userKeys.length === 0) {
  200 |         return []; {
  [cause]: [Error: getaddrinfo ENOTFOUND us1-grown-mantis-40417.upstash.io] {
    errno: -3008,
    code: 'ENOTFOUND',
    syscall: 'getaddrinfo',
    hostname: 'us1-grown-mantis-40417.upstash.io'
  }
}
✅ Redis daily raffle admin data: 0 participants, 0 tickets [2025-09-14T03:40:05.622Z]
 GET /api/admin/stats 200 in 24328ms
